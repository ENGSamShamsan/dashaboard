(()=>{var e={712:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(812)),o=s(n(430)),a=n(593);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r,o,s=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,e)}return t=f,(n=[{key:"navigateToDashboard",value:function(e){if(!e.dashboardId)throw new Error("dashboardId is required");var t=a.OUT_GOING_POST_MESSAGE_EVENT_NAMES.NAVIGATE_TO_DASHBOARD,n=e,r=(0,i.default)(t,n);this.iframe.contentWindow.postMessage(r,this.url)}},{key:"navigateToSheet",value:function(e){var t=a.OUT_GOING_POST_MESSAGE_EVENT_NAMES.NAVIGATE_TO_SHEET,n={sheetId:e},r=(0,i.default)(t,n);this.iframe.contentWindow.postMessage(r,this.url)}},{key:"initiatePrint",value:function(){var e=a.OUT_GOING_POST_MESSAGE_EVENT_NAMES.PRINT,t=(0,i.default)(e,{});this.iframe.contentWindow.postMessage(t,this.url)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.default);t.default=f},430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(884)),i=s(n(812)),o=n(593),a=s(n(689));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){if(null!==e.contentWindow){var n=o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.ESTABLISH_MESSAGE_CHANNEL,r=(0,i.default)(n);e.contentWindow.postMessage(r,t)}else setTimeout(c.bind(null,e,t),100)}var l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("options is required");if(!t.url)throw new Error("url is required");var n=t.url,i=t.container,s=t.parameters,u=t.defaultEmbeddingVisualType,l=t.errorCallback,E=t.loadCallback,f=t.parametersChangeCallback,d=t.selectedSheetChangeCallback,h=t.isQEmbedded;if(this.url=n,i instanceof HTMLElement?this.container=i:"string"==typeof i&&(this.container=document.querySelector(i)),!this.container)throw new Error("can't find valid container");this.parameters=s,this.defaultEmbeddingVisualType=u,this.iframe=function(e){var t=e.width,n=e.height,r=e.isQEmbedded,i=e.loadingHeight,s=e.url,u=e.scrolling,l=e.className;n===o.DASHBOARD_SIZE_OPTIONS.AUTO_FIT&&(n=i);var E=document.createElement("iframe");return E.className=["quicksight-embedding-iframe",l].join(" ").trim(),E.width=t||"100%",E.height=n||"100%",E.scrolling=u||"no",E.onload=c.bind(null,E,s),E.src=function(e){var t=e.url,n=e.parameters,r=e.locale,i=e.footerPaddingEnabled,o=e.iframeResizeOnSheetChange,s=e.printEnabled,u=e.resetDisabled,c=e.sheetId,l=e.sheetTabsDisabled,E=e.undoRedoDisabled,f=e.isQEmbedded,d=e.qSearchBarOptions,h=t+"&punyCodeEmbedOrigin="+a.default.encode(window.location.origin+"/");return h=h+"&printEnabled="+String(!!s),r&&(h=h+"&locale="+r),l&&(h=h+"&sheetTabsDisabled="+String(l)),c&&(h=h+"&sheetId="+c),i&&(h=h+"&footerPaddingEnabled="+String(i)),E&&(h=h+"&undoRedoDisabled="+String(E)),u&&(h=h+"&resetDisabled="+String(u)),o&&(h=h+"&resizeOnSheetChange="+String(o)),n?function(e,t){var n=Object.keys(t).map((function(e){var n=t[e],r=[].concat(n),i=encodeURIComponent(e);return r.map((function(e){return encodeURIComponent(e)})).map((function(e){return"p.".concat(i,"=").concat(e)})).join("&")}));return"".concat(e,"#").concat(n.join("&"))}(h,n):(f&&d&&(void 0!==d.iconDisabled&&(h=h+"&qBarIconDisabled="+String(d.iconDisabled)),void 0!==d.topicNameDisabled&&(h=h+"&qBarTopicNameDisabled="+String(d.topicNameDisabled)),d.themeId&&(h=h+"&themeId="+d.themeId),void 0!==d.allowTopicSelection&&(h=h+"&allowTopicSelection="+String(d.allowTopicSelection))),h)}(e),E.style.border="0px",E.style.padding="0px",r&&E.setAttribute("allowtransparency","true"),E}(t),(0,r.default)(this),"function"==typeof l&&this.on(o.CLIENT_FACING_EVENT_NAMES.error,l),"function"==typeof E&&this.on(o.CLIENT_FACING_EVENT_NAMES.load,E),"function"==typeof f&&this.on(o.CLIENT_FACING_EVENT_NAMES.parametersChange,f),"function"==typeof d&&this.on(o.CLIENT_FACING_EVENT_NAMES.selectedSheetChange,d),window.addEventListener("message",function(e){e&&e.source===(this.iframe&&this.iframe.contentWindow)&&this.handleMessageEvent(e,t)}.bind(this),!1),h&&(this.qBarOpen=!1,this.isQEmbedded=h,this.qOptions=t.qSearchBarOptions,window.addEventListener("click",function(e){!this.container||this.container.contains(e.target)||this.closeQPopover()}.bind(this),!1)),this.getContainer=this.getContainer.bind(this),this.getParameters=this.getParameters.bind(this),this.getActiveParameterValues=this.getActiveParameterValues.bind(this),this.getSheets=this.getSheets.bind(this),this.getDefaultEmbeddingVisualType=this.getDefaultEmbeddingVisualType.bind(this),this.getUrl=this.getUrl.bind(this),this.handleMessageEvent=this.handleMessageEvent.bind(this),this.setParameters=this.setParameters.bind(this),this.setDefaultEmbeddingVisualType=this.setDefaultEmbeddingVisualType.bind(this),this.setQBarQuestion=this.setQBarQuestion.bind(this),this.closeQPopover=this.closeQPopover.bind(this)}var t,n;return t=e,(n=[{key:"getUrl",value:function(){return this.url}},{key:"getContainer",value:function(){return this.container}},{key:"getParameters",value:function(){return this.parameters}},{key:"getActiveParameterValues",value:function(e){if("function"==typeof e){this.getActiveParametersCallback&&this.off(o.CLIENT_FACING_EVENT_NAMES.GET_ACTIVE_PARAMETER_VALUES,this.getActiveParametersCallback),this.getActiveParametersCallback=e,this.on(o.CLIENT_FACING_EVENT_NAMES.GET_ACTIVE_PARAMETER_VALUES,e);var t=(0,i.default)(o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.GET_ACTIVE_PARAMETER_VALUES,{});this.iframe.contentWindow.postMessage(t,this.url)}}},{key:"getSheets",value:function(e){if("function"==typeof e){this.getSheetsCallback&&this.off(o.CLIENT_FACING_EVENT_NAMES.GET_SHEETS,this.getSheetsCallback),this.getSheetsCallback=e,this.on(o.CLIENT_FACING_EVENT_NAMES.GET_SHEETS,e);var t=(0,i.default)(o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.GET_SHEETS,{});this.iframe.contentWindow.postMessage(t,this.url)}}},{key:"handleShowQ",value:function(e){this.qOptions&&this.qOptions.expandCallback&&"function"==typeof this.qOptions.expandCallback&&!this.qBarOpen&&this.qOptions.expandCallback(),e&&e.height&&(this.iframe.height=e.height),this.qBarOpen=!0}},{key:"handleHideQ",value:function(e){this.qOptions&&this.qOptions.collapseCallback&&"function"==typeof this.qOptions.collapseCallback&&this.qBarOpen&&this.qOptions.collapseCallback(),e&&e.height&&(this.iframe.height=e.height),this.qBarOpen=!1}},{key:"handleResizeQ",value:function(e){e&&e.height&&(this.iframe.height=e.height)}},{key:"handleMessageEvent",value:function(e,t){var n=e.data,r=n.eventName,i=n.payload;this.trigger(o.CLIENT_FACING_EVENT_NAMES[r],i),r===o.IN_COMING_POST_MESSAGE_EVENT_NAMES.RESIZE_EVENT?t.height===o.DASHBOARD_SIZE_OPTIONS.AUTO_FIT&&(this.iframe.height=i.height):r===o.CLIENT_FACING_EVENT_NAMES.SHOW_Q_BAR?this.handleShowQ(i):r===o.CLIENT_FACING_EVENT_NAMES.HIDE_Q_BAR?this.handleHideQ(i):r===o.CLIENT_FACING_EVENT_NAMES.RESIZE_Q_BAR&&this.handleResizeQ(i)}},{key:"getDefaultEmbeddingVisualType",value:function(){return this.defaultEmbeddingVisualType}},{key:"setParameters",value:function(e){var t=this.getParameterEvent(e);this.iframe.contentWindow.postMessage(t,this.url)}},{key:"getParameterEvent",value:function(e){var t=o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.UPDATE_PARAMETER_VALUES,n={};return Object.keys(e).map((function(t){var r=e[t],i=[].concat(r),o=encodeURIComponent(t);n[o]=i.map((function(e){return encodeURIComponent(e)}))})),(0,i.default)(t,{parameters:n})}},{key:"setDefaultEmbeddingVisualType",value:function(e){var t=this.generateDefaultEmbeddingVisualTypeEvent(e);this.iframe.contentWindow.postMessage(t,this.url)}},{key:"generateDefaultEmbeddingVisualTypeEvent",value:function(e){var t=o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS;null!=e&&e in o.DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS||(e=o.DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS.AUTO_GRAPH);var n={defaultEmbeddingVisualType:e};return(0,i.default)(t,n)}},{key:"getQuestionEvent",value:function(e){var t=o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.SET_Q_BAR_QUESTION;return(0,i.default)(t,{question:e})}},{key:"setQBarQuestion",value:function(e){var t=this.getQuestionEvent(e);this.iframe.contentWindow.postMessage(t,this.url)}},{key:"closeQPopover",value:function(){var e,t=(0,i.default)(o.OUT_GOING_POST_MESSAGE_EVENT_NAMES.HIDE_Q_BAR,{});null===(e=this.iframe.contentWindow)||void 0===e||e.postMessage(t,this.url)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=l},729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.embedDashboard=function(e){return c(new i.default(e))},t.embedQSearchBar=function(e){return c(new r.default(s(s({},e||{}),{},{isQEmbedded:!0})))},t.embedSession=function(e){return c(new r.default(e))};var r=o(n(430)),i=o(n(712));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.getContainer();return setTimeout(l.bind(null,e.iframe,t),0),e}function l(e,t){if(!e)throw new Error("iFrame is required");if(!t)throw new Error("container of iFrame is required");t.appendChild(e)}},590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"embedDashboard",{enumerable:!0,get:function(){return r.embedDashboard}}),Object.defineProperty(t,"embedQSearchBar",{enumerable:!0,get:function(){return r.embedQSearchBar}}),Object.defineProperty(t,"embedSession",{enumerable:!0,get:function(){return r.embedSession}});var r=n(729)},593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OUT_GOING_POST_MESSAGE_EVENT_NAMES=t.IN_COMING_POST_MESSAGE_EVENT_NAMES=t.DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS=t.DASHBOARD_SIZE_OPTIONS=t.CLIENT_FACING_EVENT_NAMES=void 0,t.OUT_GOING_POST_MESSAGE_EVENT_NAMES={ESTABLISH_MESSAGE_CHANNEL:"establishMessageChannel",UPDATE_PARAMETER_VALUES:"updateParameterValues",DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS:"updateDefaultEmbeddingVisualType",NAVIGATE_TO_DASHBOARD:"navigateToDashboard",GET_ACTIVE_PARAMETER_VALUES:"getActiveParameterValues",NAVIGATE_TO_SHEET:"navigateToSheet",GET_SHEETS:"getSheets",PRINT:"initiatePrint",HIDE_Q_BAR:"hideQSearchBar",SET_Q_BAR_QUESTION:"setQBarQuestion"},t.IN_COMING_POST_MESSAGE_EVENT_NAMES={LOAD:"load",ERROR:"error",RESIZE_EVENT:"RESIZE_EVENT",SHOW_MODAL_EVENT:"SHOW_MODAL_EVENT"},t.CLIENT_FACING_EVENT_NAMES={load:"load",error:"error",parametersChange:"parametersChange",selectedSheetChange:"selectedSheetChange",RESIZE_EVENT:"resize",SHOW_MODAL_EVENT:"SHOW_MODAL_EVENT",GET_ACTIVE_PARAMETER_VALUES:"GET_ACTIVE_PARAMETER_VALUES",GET_SHEETS:"GET_SHEETS",SHOW_Q_BAR:"showQSearchBar",HIDE_Q_BAR:"hideQSearchBar",RESIZE_Q_BAR:"resizeQSearchBar"},t.DASHBOARD_SIZE_OPTIONS={AUTO_FIT:"AutoFit"},t.DEFAULT_EMBEDDING_VISUAL_TYPE_OPTIONS={AUTO_GRAPH:"AUTO_GRAPH",TABLE:"TABLE"}},812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Object.keys(r.OUT_GOING_POST_MESSAGE_EVENT_NAMES).some((function(t){return r.OUT_GOING_POST_MESSAGE_EVENT_NAMES[t]===e})))throw new Error("Unexpected eventName");return{eventName:e,clientType:"EMBEDDING",payload:t}};var r=n(593)},884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e||(e={}),function(e){["on","trigger","off"].forEach((function(t){if(t in e)throw new Error("Cannot eventify object that has `"+t+"()` method on it")}))}(e);var t=new Map;return e.on=function(e,n){var r=t.get(e);r||(r=new Set,t.set(e,r)),r.add(n)},e.off=function(n,r){if(!r)return t.delete(n),e;var i=t.get(n);return i?(i.delete(r),e):e},e.trigger=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.get(e);o&&o.forEach((function(e){return e.apply(null,r)}))},e}},539:(e,t,n)=>{var r=n(590),i=n(672);void 0===i.QuickSightEmbedding&&(i.QuickSightEmbedding=r),e.exports=r},672:(e,t,n)=>{"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()},689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ucs2decode:()=>d,ucs2encode:()=>h,decode:()=>p,encode:()=>T,toASCII:()=>A,toUnicode:()=>b,default:()=>g});const r=2147483647,i=36,o=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,l=String.fromCharCode;function E(e){throw new RangeError(u[e])}function f(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(s,".")).split("."),t).join(".");return r+i}function d(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const h=e=>String.fromCodePoint(...e),_=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},S=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=i)e=c(e/35);return c(r+36*e/(e+38))},p=function(e){const t=[],n=e.length;let o=0,a=128,s=72,u=e.lastIndexOf("-");u<0&&(u=0);for(let n=0;n<u;++n)e.charCodeAt(n)>=128&&E("not-basic"),t.push(e.charCodeAt(n));for(let f=u>0?u+1:0;f<n;){let u=o;for(let t=1,a=i;;a+=i){f>=n&&E("invalid-input");const u=(l=e.charCodeAt(f++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:i;(u>=i||u>c((r-o)/t))&&E("overflow"),o+=u*t;const d=a<=s?1:a>=s+26?26:a-s;if(u<d)break;const h=i-d;t>c(r/h)&&E("overflow"),t*=h}const d=t.length+1;s=S(o-u,d,0==u),c(o/d)>r-a&&E("overflow"),a+=c(o/d),o%=d,t.splice(o++,0,a)}var l;return String.fromCodePoint(...t)},T=function(e){const t=[];let n=(e=d(e)).length,o=128,a=0,s=72;for(const n of e)n<128&&t.push(l(n));let u=t.length,f=u;for(u&&t.push("-");f<n;){let n=r;for(const t of e)t>=o&&t<n&&(n=t);const d=f+1;n-o>c((r-a)/d)&&E("overflow"),a+=(n-o)*d,o=n;for(const n of e)if(n<o&&++a>r&&E("overflow"),n==o){let e=a;for(let n=i;;n+=i){const r=n<=s?1:n>=s+26?26:n-s;if(e<r)break;const o=e-r,a=i-r;t.push(l(_(r+o%a,0))),e=c(o/a)}t.push(l(_(e,0))),s=S(a,d,f==u),a=0,++f}++a,++o}return t.join("")},b=function(e){return f(e,(function(e){return o.test(e)?p(e.slice(4).toLowerCase()):e}))},A=function(e){return f(e,(function(e){return a.test(e)?"xn--"+T(e):e}))},g={version:"2.1.0",ucs2:{decode:d,encode:h},decode:p,encode:T,toASCII:A,toUnicode:b}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(539)})();
//# sourceMappingURL=quicksight-embedding-js-sdk.min.js.map